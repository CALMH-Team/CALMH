(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{M81G:function(n,l,u){"use strict";u.r(l);var t=u("CcnG"),e=u("mrSG"),i=u("gIcY"),o=u("ZZ/e"),r=u("n6ga"),s=u("0/1e"),a=function(){function n(n,l,u,t,e,o){this.formBuilder=n,this.loadingCtrl=l,this.restApiSvc=u,this.alertCtrl=t,this.actionSheetCtrl=e,this.modalCtrl=o,this.casesForm=this.formBuilder.group({case:["",i.n.required]}),this.reload()}return n.prototype.reload=function(){return e.b(this,void 0,void 0,function(){var n,l=this;return e.e(this,function(u){switch(u.label){case 0:return this.cases=[],n=this,[4,this.loadingCtrl.create({message:"Loading cases...",backdropDismiss:!0})];case 1:return n.loader=u.sent(),this.loader.present().then(function(){l.restApiSvc.getAll("case").subscribe(function(n){n.forEach(function(n){n.id=n._id,l.cases.push(n)})}),l.loader.dismiss()}),[2]}})})},n.prototype.caseActionSheet=function(n){return e.b(this,void 0,void 0,function(){var l,u,t=this;return e.e(this,function(e){switch(e.label){case 0:return l=[{text:"Create",icon:"create",handler:function(){t.editCase(n)}}],u=[{text:"Modify",icon:"create",handler:function(){t.editCase(n)}},{text:"Delete",role:"destructive",icon:"trash",handler:function(){t.confirmDelete(n)}}],[4,this.actionSheetCtrl.create({header:"What do you want to do?",buttons:"new"===n?l:u})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},n.prototype.confirmDelete=function(n){return e.b(this,void 0,void 0,function(){var l=this;return e.e(this,function(u){switch(u.label){case 0:return[4,this.alertCtrl.create({header:"Delete case?",message:"Are you sure you want to delete this case?",buttons:[{text:"Yes",handler:function(){l.deleteCase(n)}},{text:"No",handler:function(){}}]})];case 1:return u.sent().present(),[2]}})})},n.prototype.deleteCase=function(n){return e.b(this,void 0,void 0,function(){var l=this;return e.e(this,function(u){return this.restApiSvc.delete("case",n).subscribe(function(){l.reload()}),[2]})})},n.prototype.editCase=function(n){return e.b(this,void 0,void 0,function(){var l,u=this;return e.e(this,function(t){switch(t.label){case 0:return[4,this.modalCtrl.create({component:s.a,componentProps:{id:n}})];case 1:return(l=t.sent()).onDidDismiss().then(function(n){null!==n&&n.data&&u.reload()}),[4,l.present()];case 2:return t.sent(),[2]}})})},n.prototype.ngOnInit=function(){},n}(),b=function(){return function(){}}(),c=u("pMnS"),d=u("oBZk"),h=u("Ip0R"),p=t.nb({encapsulation:0,styles:[[""]],data:{}});function f(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,11,"ion-item",[],null,[[null,"press"]],function(n,l,u){var t=!0;return"press"===l&&(t=!1!==n.component.caseActionSheet(n.context.$implicit.id)&&t),t},d.eb,d.t)),t.ob(1,49152,null,0,o.H,[t.h,t.k,t.z],null,null),(n()(),t.pb(2,0,null,0,3,"ion-radio",[["slot","start"]],null,[[null,"ionBlur"],[null,"ionSelect"]],function(n,l,u){var e=!0;return"ionBlur"===l&&(e=!1!==t.zb(n,5)._handleBlurEvent()&&e),"ionSelect"===l&&(e=!1!==t.zb(n,5)._handleIonSelect(u.target.checked)&&e),e},d.mb,d.A)),t.Eb(5120,null,i.g,function(n){return[n]},[o.Nb]),t.ob(4,49152,null,0,o.Z,[t.h,t.k,t.z],{value:[0,"value"]},null),t.ob(5,16384,null,0,o.Nb,[t.k],null,null),(n()(),t.pb(6,0,null,0,5,"ion-label",[],null,null,null,d.fb,d.u)),t.ob(7,49152,null,0,o.N,[t.h,t.k,t.z],null,null),(n()(),t.pb(8,0,null,0,1,"h2",[],null,null,null,null,null)),(n()(),t.Hb(9,null,[""," with user ",""])),(n()(),t.pb(10,0,null,0,1,"small",[],null,null,null,null,null)),(n()(),t.Hb(11,null,["",""]))],function(n,l){n(l,4,0,t.rb(1,"",l.context.$implicit.id,""))},function(n,l){n(l,9,0,l.context.$implicit.disaster.label,l.context.$implicit.user.label),n(l,11,0,l.context.$implicit.startDate)})}function g(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,10,"ion-header",[],null,null,null,d.ab,d.p)),t.ob(1,49152,null,0,o.B,[t.h,t.k,t.z],null,null),(n()(),t.pb(2,0,null,0,8,"ion-toolbar",[],null,null,null,d.vb,d.K)),t.ob(3,49152,null,0,o.Bb,[t.h,t.k,t.z],null,null),(n()(),t.pb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,d.N,d.c)),t.ob(5,49152,null,0,o.l,[t.h,t.k,t.z],null,null),(n()(),t.pb(6,0,null,0,1,"ion-menu-button",[],null,null,null,d.ib,d.y)),t.ob(7,49152,null,0,o.R,[t.h,t.k,t.z],null,null),(n()(),t.pb(8,0,null,0,2,"ion-title",[],null,null,null,d.ub,d.J)),t.ob(9,49152,null,0,o.zb,[t.h,t.k,t.z],null,null),(n()(),t.Hb(-1,0,["Cases"])),(n()(),t.pb(11,0,null,null,22,"ion-content",[],null,null,null,d.W,d.l)),t.ob(12,49152,null,0,o.u,[t.h,t.k,t.z],null,null),(n()(),t.pb(13,0,null,0,20,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,u){var e=!0;return"submit"===l&&(e=!1!==t.zb(n,15).onSubmit(u)&&e),"reset"===l&&(e=!1!==t.zb(n,15).onReset()&&e),e},null,null)),t.ob(14,16384,null,0,i.p,[],null,null),t.ob(15,540672,null,0,i.e,[[8,null],[8,null]],{form:[0,"form"]},null),t.Eb(2048,null,i.a,null,[i.e]),t.ob(17,16384,null,0,i.j,[[4,i.a]],null,null),(n()(),t.pb(18,0,null,null,15,"ion-list",[],null,null,null,d.hb,d.v)),t.ob(19,49152,null,0,o.O,[t.h,t.k,t.z],null,null),(n()(),t.pb(20,0,null,0,13,"ion-radio-group",[["formControlName","case"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,u){var e=!0;return"ionBlur"===l&&(e=!1!==t.zb(n,21)._handleBlurEvent()&&e),"ionChange"===l&&(e=!1!==t.zb(n,21)._handleChangeEvent(u.target.value)&&e),e},d.lb,d.B)),t.ob(21,16384,null,0,o.Pb,[t.k],null,null),t.Eb(1024,null,i.g,function(n){return[n]},[o.Pb]),t.ob(23,671744,null,0,i.d,[[3,i.a],[8,null],[8,null],[6,i.g],[2,i.r]],{name:[0,"name"]},null),t.Eb(2048,null,i.h,null,[i.d]),t.ob(25,16384,null,0,i.i,[[4,i.h]],null,null),t.ob(26,49152,null,0,o.ab,[t.h,t.k,t.z],null,null),(n()(),t.pb(27,0,null,0,4,"ion-list-header",[],null,null,null,d.gb,d.w)),t.ob(28,49152,null,0,o.P,[t.h,t.k,t.z],null,null),(n()(),t.pb(29,0,null,0,2,"ion-label",[],null,null,null,d.fb,d.u)),t.ob(30,49152,null,0,o.N,[t.h,t.k,t.z],null,null),(n()(),t.Hb(-1,0,["Select case"])),(n()(),t.gb(16777216,null,0,1,null,f)),t.ob(33,278528,null,0,h.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var u=l.component;n(l,15,0,u.casesForm),n(l,23,0,"case"),n(l,33,0,u.cases)},function(n,l){n(l,13,0,t.zb(l,17).ngClassUntouched,t.zb(l,17).ngClassTouched,t.zb(l,17).ngClassPristine,t.zb(l,17).ngClassDirty,t.zb(l,17).ngClassValid,t.zb(l,17).ngClassInvalid,t.zb(l,17).ngClassPending),n(l,20,0,t.zb(l,25).ngClassUntouched,t.zb(l,25).ngClassTouched,t.zb(l,25).ngClassPristine,t.zb(l,25).ngClassDirty,t.zb(l,25).ngClassValid,t.zb(l,25).ngClassInvalid,t.zb(l,25).ngClassPending)})}function m(n){return t.Jb(0,[(n()(),t.pb(0,0,null,null,1,"app-cases",[],null,null,null,g,p)),t.ob(1,114688,null,0,a,[i.b,o.Fb,r.a,o.b,o.a,o.Hb],null,null)],function(n,l){n(l,1,0)},null)}var v=t.lb("app-cases",a,m,{},{},[]),C=u("ZYCi");u.d(l,"CasesPageModuleNgFactory",function(){return z});var z=t.mb(b,[],function(n){return t.wb([t.xb(512,t.j,t.bb,[[8,[c.a,v]],[3,t.j],t.x]),t.xb(4608,h.m,h.l,[t.u,[2,h.s]]),t.xb(4608,i.q,i.q,[]),t.xb(4608,i.b,i.b,[]),t.xb(4608,o.c,o.c,[t.z,t.g]),t.xb(4608,o.Hb,o.Hb,[o.c,t.j,t.q]),t.xb(4608,o.Mb,o.Mb,[o.c,t.j,t.q]),t.xb(1073742336,h.b,h.b,[]),t.xb(1073742336,i.o,i.o,[]),t.xb(1073742336,i.f,i.f,[]),t.xb(1073742336,i.m,i.m,[]),t.xb(1073742336,o.Db,o.Db,[]),t.xb(1073742336,C.o,C.o,[[2,C.u],[2,C.m]]),t.xb(1073742336,b,b,[]),t.xb(1024,C.k,function(){return[[{path:"",component:a}]]},[])])})}}]);